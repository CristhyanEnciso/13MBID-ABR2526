schema: '2.0'
stages:
  describe_data:
    cmd: "python -m src.describe_data --input data/raw/bank-additional-full.csv --sep\
      \ \";\" --outdir reports/summary --figdir reports/figures/desc\n"
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: src/describe_data.py
      hash: md5
      md5: f3a2ec20bb7d775d2dea46b97b1ed16c
      size: 3621
    outs:
    - path: reports/figures/desc
      hash: md5
      md5: 25b1337658d259e335494ea95edc1124.dir
      size: 264291
      nfiles: 21
    - path: reports/summary/summary_cardinality.csv
      hash: md5
      md5: 8a3701afc0489d299a61adbfedceffbe
      size: 268
    - path: reports/summary/summary_describe.csv
      hash: md5
      md5: ed2733f897dbb2166dea8037696bc352
      size: 1317
    - path: reports/summary/summary_dtypes.csv
      hash: md5
      md5: 4cc5ba0a43b11bb31bd8a3d2c3e63e09
      size: 357
    - path: reports/summary/summary_nulls.csv
      hash: md5
      md5: 97db627e9c2b5ff7ccd5aad2ac10ea10
      size: 350
    - path: reports/summary/summary_value_counts.csv
      hash: md5
      md5: c63108778a49b9fdc22afe3449b7c74f
      size: 1448
  visualize_data:
    cmd: "python -m src.data_visualization --input data/raw/bank-additional-full.csv\
      \ --sep \";\" --figdir reports/figures/eda --summarydir reports/summary\n"
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: src/data_visualization.py
      hash: md5
      md5: 6924d3e5762ca837d18a3b14e84c1fbf
      size: 3519
    outs:
    - path: reports/figures/eda
      hash: md5
      md5: 33316b3c8e3d56100ffa1234f6f6b0df.dir
      size: 418766
      nfiles: 14
    - path: reports/summary/categorical_cardinality.csv
      hash: md5
      md5: 670d5e92eff6d0c476420ec9bc7051f4
      size: 125
    - path: reports/summary/corr_matrix.csv
      hash: md5
      md5: 2d3f5b23fcbebe482abe56ef9a4e3937
      size: 2086
    - path: reports/summary/nulls_by_column.csv
      hash: md5
      md5: 432d89e2bfb22a5fd4315c9a07fa9e76
      size: 252
    - path: reports/summary/target_balance_pct.csv
      hash: md5
      md5: a9f2d2be80999c353e2fcb130ad79413
      size: 35
  test_data_quality:
    cmd: python -m pytest --html=docs/test_results/test_results.html --self-contained-html
      tests/test_data_quality.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: tests/test_data_quality.py
      hash: md5
      md5: f352b6123ca064f14f47e09fe3da97b2
      size: 3331
    outs:
    - path: docs/test_results/test_results.html
      hash: md5
      md5: 882a8c563544123b267028058378f246
      size: 35598
    - path: reports/validation/data_types_report.csv
      hash: md5
      md5: 565be97113b744ca3e7bf844c17cc430
      size: 110
    - path: reports/validation/duplicate_rows.csv
      hash: md5
      md5: 406e5b57edf9e51c8837d7b1d21b0a4c
      size: 16
    - path: reports/validation/null_distribution.csv
      hash: md5
      md5: 432d89e2bfb22a5fd4315c9a07fa9e76
      size: 252
    - path: reports/validation/quality_summary.csv
      hash: md5
      md5: 1072298dd19b16c876affa7bc7f10bbc
      size: 53
  test_data_gx:
    cmd: pytest --html=docs/test_results/test_results_gx.html --self-contained-html
      tests/test_data_gx.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: tests/test_data_gx.py
      hash: md5
      md5: d5aad0c32bdc044d9db111c4525d5ce4
      size: 4098
    outs:
    - path: docs/test_results/test_results_gx.html
      hash: md5
      md5: cdbd10c678e3816bea66437738898879
      size: 33121
  select_features:
    cmd: python -m src.select_features
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: params.yaml
      hash: md5
      md5: cf44cb33b4d589d0e6e8e53c5a7e2311
      size: 702
    - path: src/select_features.py
      hash: md5
      md5: b95e754612c682e0685e5c5f2063ff11
      size: 1985
    outs:
    - path: data/interim/banking_selected.csv
      hash: md5
      md5: ef4afd9d9e55a710fd23a1252f917b67
      size: 4184271
    - path: reports/selection/features_selected.csv
      hash: md5
      md5: 4b852b7c99d144637c756906c1f1e84c
      size: 170
    - path: reports/selection/removed_features.csv
      hash: md5
      md5: 09d57b8f8ee5d980084029622e951cc6
      size: 139
  clean_data:
    cmd: python -m src.clean_data
    deps:
    - path: data/interim/banking_selected.csv
      hash: md5
      md5: ef4afd9d9e55a710fd23a1252f917b67
      size: 4184271
    - path: params.yaml
      hash: md5
      md5: cf44cb33b4d589d0e6e8e53c5a7e2311
      size: 702
    - path: src/clean_data.py
      hash: md5
      md5: f37f0ab676331cf5a854d391e245a555
      size: 1312
    outs:
    - path: data/interim/banking_clean.csv
      hash: md5
      md5: 20110b1ffaaf4cbf92e8d0a743456f50
      size: 3533102
    - path: reports/cleaning/data_loss_report.csv
      hash: md5
      md5: 62616a0ad7e0d9b855bca83d4a052d7a
      size: 126
  build_features:
    cmd: python -m src.build_features
    deps:
    - path: data/interim/banking_clean.csv
      hash: md5
      md5: 20110b1ffaaf4cbf92e8d0a743456f50
      size: 3533102
    - path: params.yaml
      hash: md5
      md5: cf44cb33b4d589d0e6e8e53c5a7e2311
      size: 702
    - path: src/build_features.py
      hash: md5
      md5: e8fef08645aa6f97c7d416e912125882
      size: 2613
    outs:
    - path: data/interim/banking_features.csv
      hash: md5
      md5: a71159ec003a9b57e6233b7ec97690dd
      size: 3494182
    - path: reports/features/feature_dtypes.csv
      hash: md5
      md5: 6c34193d604fce9507d49c9460947833
      size: 299
    - path: reports/features/feature_summary.csv
      hash: md5
      md5: 81258d3167b91763bdbf8a185e3bd045
      size: 257
    - path: reports/features/features_built.csv
      hash: md5
      md5: a8f193f46e5b1a76216191dc95c913ab
      size: 169
    - path: reports/features/target_balance_after_features_pct.csv
      hash: md5
      md5: 709faf5b3f8254148675ecaa24e9533b
      size: 30
  integrate_data:
    cmd: python -m src.integrate_data
    deps:
    - path: data/interim/banking_features.csv
      hash: md5
      md5: a71159ec003a9b57e6233b7ec97690dd
      size: 3494182
    - path: src/integrate_data.py
      hash: md5
      md5: 3250b1404d96128480e9a022155beb93
      size: 1632
    outs:
    - path: data/processed/bank_final.csv
      hash: md5
      md5: a71159ec003a9b57e6233b7ec97690dd
      size: 3494182
    - path: reports/integration/integration_summary.csv
      hash: md5
      md5: 838d88e38583cdce38c1d50511a174be
      size: 208
